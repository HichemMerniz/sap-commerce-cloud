{"version":3,"sources":["node_modules/@spartacus/user/fesm2022/spartacus-user-account-root.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i1 from '@spartacus/core';\nimport { GlobalMessageType, LogoutEvent, provideDefaultConfigFactory, facadeFactory, CxEvent } from '@spartacus/core';\nimport { Subscription } from 'rxjs';\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * User account event listener.\n */\nclass UserAccountEventListener {\n  constructor(eventService, globalMessageService) {\n    this.eventService = eventService;\n    this.globalMessageService = globalMessageService;\n    this.subscriptions = new Subscription();\n    this.onAuth();\n  }\n  /**\n   * Registers events for the auth events.\n   */\n  onAuth() {\n    this.subscriptions.add(this.eventService.get(LogoutEvent).subscribe(() => {\n      this.globalMessageService.add({\n        key: 'authMessages.signedOutSuccessfully'\n      }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n    }));\n  }\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n  static {\n    this.ɵfac = function UserAccountEventListener_Factory(t) {\n      return new (t || UserAccountEventListener)(i0.ɵɵinject(i1.EventService), i0.ɵɵinject(i1.GlobalMessageService));\n    };\n  }\n  static {\n    this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: UserAccountEventListener,\n      factory: UserAccountEventListener.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserAccountEventListener, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1.EventService\n  }, {\n    type: i1.GlobalMessageService\n  }], null);\n})();\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass UserAccountEventModule {\n  constructor(_userAccountEventListener) {\n    // Intentional empty constructor\n  }\n  static {\n    this.ɵfac = function UserAccountEventModule_Factory(t) {\n      return new (t || UserAccountEventModule)(i0.ɵɵinject(UserAccountEventListener));\n    };\n  }\n  static {\n    this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: UserAccountEventModule\n    });\n  }\n  static {\n    this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserAccountEventModule, [{\n    type: NgModule,\n    args: [{}]\n  }], () => [{\n    type: UserAccountEventListener\n  }], null);\n})();\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nconst USER_ACCOUNT_FEATURE = 'userAccount';\nconst USER_ACCOUNT_CORE_FEATURE = 'userAccountCore';\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n// TODO: Inline this factory when we start releasing Ivy compiled libraries\nfunction defaultUserAccountComponentsConfig() {\n  const config = {\n    featureModules: {\n      [USER_ACCOUNT_FEATURE]: {\n        cmsComponents: ['LoginComponent', 'ReturningCustomerLoginComponent', 'ReturningCustomerRegisterComponent', 'MyAccountViewUserComponent']\n      },\n      // by default core is bundled together with components\n      [USER_ACCOUNT_CORE_FEATURE]: USER_ACCOUNT_FEATURE\n    }\n  };\n  return config;\n}\nclass UserAccountRootModule {\n  static {\n    this.ɵfac = function UserAccountRootModule_Factory(t) {\n      return new (t || UserAccountRootModule)();\n    };\n  }\n  static {\n    this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: UserAccountRootModule\n    });\n  }\n  static {\n    this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n      providers: [provideDefaultConfigFactory(defaultUserAccountComponentsConfig)],\n      imports: [UserAccountEventModule]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserAccountRootModule, [{\n    type: NgModule,\n    args: [{\n      imports: [UserAccountEventModule],\n      providers: [provideDefaultConfigFactory(defaultUserAccountComponentsConfig)]\n    }]\n  }], null, null);\n})();\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass UserAccountFacade {\n  static {\n    this.ɵfac = function UserAccountFacade_Factory(t) {\n      return new (t || UserAccountFacade)();\n    };\n  }\n  static {\n    this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: UserAccountFacade,\n      factory: () => (() => facadeFactory({\n        facade: UserAccountFacade,\n        feature: USER_ACCOUNT_CORE_FEATURE,\n        methods: ['get', 'getById']\n      }))(),\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserAccountFacade, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => facadeFactory({\n        facade: UserAccountFacade,\n        feature: USER_ACCOUNT_CORE_FEATURE,\n        methods: ['get', 'getById']\n      })\n    }]\n  }], null, null);\n})();\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nclass UserAccountEvent extends CxEvent {}\nclass UserAccountChangedEvent extends UserAccountEvent {\n  static {\n    this.type = 'UserAccountChangedEvent';\n  }\n}\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/*\n * SPDX-FileCopyrightText: 2024 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n/** AUGMENTABLE_TYPES_END */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { USER_ACCOUNT_CORE_FEATURE, USER_ACCOUNT_FEATURE, UserAccountChangedEvent, UserAccountEvent, UserAccountEventListener, UserAccountEventModule, UserAccountFacade, UserAccountRootModule, defaultUserAccountComponentsConfig };\n"],"mappings":"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","names":[],"x_google_ignoreList":[0]}